!function(o){o(function(){let t="";o("#quote-sub-form").on("submit",function(t){t.preventDefault(),console.log("form submitted");const e=o("#quote-author").val();""!==e?o.ajax({method:"post",url:api_vars.rest_url+"wp/v2/posts",data:{title:e,content:"the most amazing quote by gordan ramsey",status:"pending"},beforeSend:function(o){o.setRequestHeader("X-WP-Nonce",api_vars.wpapi_nonce)}}).done(function(){console.log("quote sent")}).fail(function(){console.log("something went wrong")}):console.log("author not set")}),o("#new-quote-button").on("click",function(e){e.preventDefault(),console.log("getquotes"),t=document.URL,o.ajax({method:"get",url:api_vars.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1"}).done(function(t){const e=t[0];history.pushState(null,null,e.slug),o("#quote-submission-form").slideUp(500)}).fail(function(o){console.log(o)}),o(window).on("popstate",function(){window.location.replace(t)})})})}(jQuery);